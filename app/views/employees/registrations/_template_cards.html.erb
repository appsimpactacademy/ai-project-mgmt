<% templates.each do |template| %>
  <div class="col-md-12 mb-4 mt-5">
    <div class="card shadow text-dark d-flex flex-row">
      <div class="card-body">
        <h4 class="card-title"><%= template.name %> Template</h4>
        <p class="mt-4"><%= template.description || 'No description available' %></p>
      </div>
      <div class="p-5 template-image">
        <% if template.template_image.attached? %>
          <%= image_tag template.template_image, class: 'card-img-right', alt: "#{template.name} Image" %>
        <% else %>
          <%= image_tag 'unnamed.jpg', class: 'card-img-right' %>  
        <% end %>  
        <div class="overlay">
          <div class="preview-button">
            <%= link_to 'Preview', preview_template_path(template), target: '_blank', class: 'overlay', data: { toggle: 'tooltip', placement: 'top', title: 'View Full Image' } %>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>
<style>
.template-image {
  position: relative; /* Ensure the overlay is positioned relative to the image */
}

.template-image .overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  text-decoration: none;
  font-weight: bold;
  text-shadow: 0 0 black;
  opacity: 0; /* Initially hidden */
  transition: opacity 0.3s ease; /* Smooth transition */
}

.template-image:hover .overlay {
  opacity: 1; /* Show overlay on hover */
}

.preview-button {
  color: white; /* Text color for the button */
  text-align: center; /* Center text */
  padding: 10px 15px; /* Padding for the button */
}

</style>
