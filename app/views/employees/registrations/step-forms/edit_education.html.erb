<%= turbo_frame_tag "step_form" do %>
  <div class="container">
	  <%= form_for(resource, as: resource_name, url: registration_path(resource_name, step: @step), html: { method: :put, data: { controller: "url-update", turbo_frame: "step_form" } }) do |f| %>
		  <div class="card">
		  	<div class="card-body">
		  		<h4>Education Records</h4>
			    <!-- Form fields specific to the step -->
			    <div class="mt-3" data-controller="nested-form">
			      <div id="education_records-list">
			        <%= f.fields_for :education_records do |education_form, index| %>
			          <div data-nested-form-target='educationRecords'>
			           <%= render 'employees/registrations/nested-forms/education_record_fields', f: education_form, id: index %>
			          </div>
			        <% end %>
			      </div>
			      <div class="d-flex justify-content-end mt-3">
			        <%= link_to 'Add Education Record', '#', class: 'btn btn-primary', data: { action: 'click->nested-form#addEducation' } %>
			      </div>
			      <%= render 'employees/registrations/nested-forms/education_record_template' %>
			    </div>
			    <div class="d-flex">
						<div>
							<% if @previous_step %>
							  <%= link_to 'Previous', edit_employee_registration_path(step: @previous_step), class: 'btn btn-secondary', data: { turbo: false } %>
							<% end %>
		    		</div>
			    	<div class="ms-3">
			        <%= f.submit "Next", class: "btn btn-primary" %>
			    	</div>
			    </div>
		  	</div>
		  </div>
	  <% end %>
	</div>
<% end %>
